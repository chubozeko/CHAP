<ion-header></ion-header>

<ion-toolbar color="primary">

  <ion-buttons slot="start">
    <ion-button menuToggle="right" style="background-color: #333;" (click)="openMenu()">
      <img style="width: 36px; height: 36px; margin-left: 0;" src="./assets/icon/menu.png" />
    </ion-button>
    <ion-button>
      <ion-img style="width: 32px; height: 32px;" src="./assets/icon/chap_logo.png"></ion-img>
    </ion-button>
  </ion-buttons>

  <ion-input type="text" id="fileName" placeholder="Untitled Project" value="{{fileName}}" clearInput></ion-input>

  <!-- Menu Toolbar Buttons -->
  <ion-buttons slot="end">
    <ion-input type="text" id="toolbar-tooltip" value="{{toolbarTooltip}}" readonly></ion-input>

    <div class="tooltip">
      <ion-button id="tb_newProject" class="toolbar-button" (click)="newProject()">
        <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
      </ion-button>
      <span class="tooltiptext" style="width: 120px;">New Project</span>
    </div>

    <div class="tooltip">
      <ion-button (click)="openProjectOptions()">
        <ion-icon slot="icon-only" name="folder-open"></ion-icon>
      </ion-button>
      <span class="tooltiptext" style="width: 120px;">Open Project</span>
    </div>

    <div class="tooltip">
      <ion-button (click)="saveProjectOptions()">
        <ion-icon slot="icon-only" name="save"></ion-icon>
      </ion-button>
      <span class="tooltiptext" style="width: 120px;">Save Project</span>
    </div>

    &nbsp; &nbsp; &nbsp; &nbsp;

    <div class="tooltip">
      <ion-button (click)="clearWorkspace()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
      <span class="tooltiptext" style="width: 140px;">Clear Workspace</span>
    </div>

    <div class="tooltip">
      <ion-button (click)="debugProgram()">
        <ion-icon slot="icon-only" name="bug"></ion-icon>
      </ion-button>
      <span class="tooltiptext" style="width: 140px;">Debug Program</span>
    </div>

    <div class="tooltip">
      <ion-button (click)="generatePseudoCode()">
        <ion-icon slot="icon-only" name="code"></ion-icon>
      </ion-button>
      <span class="tooltiptext" style="width: 140px;">Generate Code</span>
    </div>

    <div class="tooltip">
      <ion-button (click)="openTutorialPage()">
        <ion-icon slot="icon-only" name="help-circle"></ion-icon>
      </ion-button>
      <span class="tooltiptext" style="width: 80px;">Tutorial</span>
    </div>

  </ion-buttons>

  <!-- <button (click)="openMenu()">
    <ion-icon name="add-circle-outline"></ion-icon>
  </button> &nbsp;
  <button style="background-color: #333;" (click)="openMenu()">
    <ion-icon name="folder-open"></ion-icon>
  </button> &nbsp;
  <button style="background-color: #333;" (click)="openMenu()">
    <ion-icon name="save"></ion-icon>
  </button> &nbsp;
  <button style="background-color: #333;" (click)="openMenu()">
    <ion-icon name="bug"></ion-icon>
  </button> &nbsp;
  <button style="background-color: #333;" (click)="openMenu()">
    <ion-icon name="code"></ion-icon>
  </button> &nbsp;
  <button style="background-color: #333;" (click)="openMenu()">
    <ion-icon name="help-circle"></ion-icon>
  </button> &nbsp; -->
</ion-toolbar>

<ion-content>

  <div class="wrapper">

    <!-- <canvas id="canvas" style="display: none"></canvas> -->

    <div id="left_symbols">
      <ion-card id="symbolsTitle">
        <ion-text style="padding: 5px; font-size: 12pt; font-weight: bold;">SYMBOLS:</ion-text>
      </ion-card>
      <div id="symbolsList" dragula="symbol">
        <!-- class="scrollbar" -->
        <ion-card *ngFor="let s of symbols" id="fabSymbols" no-shadow>
          <div id="{{s.id}}" class="symbol s_tooltip" (click)="addSymbol(s.id, $event)">
            {{s.s_name}}
          </div>
        </ion-card>
      </div>

      <ion-fab-button id="symbolsFAB" color="light" style="padding: 15px;">
        <img src="./assets/icon/symbols_icon.png" alt="">
      </ion-fab-button>

    </div>

    <div id="right_ws">
      <div id="workspace" appEditor>
        <!-- <div class="s_tooltip">
          <div id="s_start" class="symbol" style="font-size: 10pt;">START</div>
          <span class="s_tooltiptext">START Symbol Details</span>
        </div> -->

        <div id="s_start" class="symbol" style="font-size: 10pt;">START</div>
        <div id="arrow" class="arrow dropzone" dragula="symbol" (dragulaModel)="symbols">
        </div>
        <div id="s_stop" class="symbol" style="font-size: 10pt;">STOP</div>
      </div>

      <div class="sidebar">
        <div>
          <div id="consoleBtns">
            <ion-button size="small" color="danger" style="float: right;" (click)="clearConsole()">
              <ion-icon name="backspace"></ion-icon>
            </ion-button>
            <ion-button size="small" color="primary" style="float: right;" (click)="toggleConsole()">
              <!-- <ion-icon name="terminal-outline"></ion-icon> -->
              {{consoleButtonText}}
            </ion-button>
          </div>
          <textarea id="console" class="toggleConsole" rows="4" disabled="true" contenteditable="false"
            style="color: #ddd; display: none;"></textarea>
        </div>
      </div>
    </div>

    <ul id="control_loop_list">
      <li>
        <div class="if_div">
          <div class="arrowPiece left">
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
            <div id="s_terminator"
              style="font-size: 8pt; text-align: center; vertical-align: middle; line-height: 35px;">
              False</div>
            <div class="arrow_left dropzone" style="width: 17.5px;"></div>
          </div>
          <div id="arrow_horizontal" class="arrows dropzone"></div>
          <div id="s_if_case" class="symbol if_sym" (click)="addSymbol('s_if_case', $event)">If</div>
          <div id="arrow_horizontal" class="arrows dropzone"></div>
          <div class="arrowPiece right">
            <div class="arrow_right dropzone" style="width: 17.5px;"></div>
            <div id="s_terminator"
              style="font-size: 8pt; text-align: center; vertical-align: middle; line-height: 35px;">
              True</div>
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
          </div>


          <div id="ifFalseBlock" class="ifFalseBlock">
            <div id="arrow" class="arrow dropzone" dragula="symbol" (dragulaModel)="symbols"></div>
          </div>
          <div></div>
          <div></div>
          <div></div>
          <div id="ifTrueBlock" class="ifTrueBlock">
            <div id="arrow" class="arrow dropzone" dragula="symbol" (dragulaModel)="symbols"></div>
          </div>

          <div class="arrowPiece left">
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
            <div id="s_terminator"></div>
            <div class="arrow_horizontal dropzone" style="width: 17.5px;"></div>
          </div>
          <div id="arrow_horizontal" class="arrows dropzone"></div>
          <div class="arrowPiece bottom_center">
            <div class="arrow_right dropzone"></div>
            <div id="s_terminator"></div>
            <div class="arrow_left dropzone"></div>
          </div>
          <div id="arrow_horizontal" class="arrows dropzone"></div>
          <div class="arrowPiece right">
            <div class="arrow_horizontal dropzone" style="width: 17.5px;"></div>
            <div id="s_terminator"></div>
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
          </div>
        </div>
      </li>
      <li>
        <div class="for_div">
          <div style="vertical-align: middle; width: 70px; height: 35px; margin: auto;"></div>
          <div style="vertical-align: middle; width: 70px; height: 35px; margin: auto;"></div>
          <div id="s_for_loop" class="symbol for_sym" (click)="addSymbol('s_for_loop',$event)">For</div>
          <div id="arrow_horizontal" class="arrows"></div>
          <div class="arrowPiece right">
            <div class="arrow_right dropzone" style="width: 17.5px;"></div>
            <div id="s_terminator"
              style="font-size: 8pt; text-align: center; vertical-align: middle; line-height: 35px;">
              Next</div>
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
          </div>

          <div class="forFalseBlock"></div>
          <div></div>
          <div id="arrows_line_up" class="arrows" style="height: 100%;"></div>
          <div></div>
          <div id="forTrueBlock" class="forTrueBlock">
            <div id="arrow" class="arrow dropzone" dragula="symbol" (dragulaModel)="symbols"></div>
          </div>

          <div></div>
          <div></div>
          <div class="arrowPiece bottom_center" style="grid-template-columns: 0px 70px 0px;">
            <div class="blank_arrow_left dropzone" style="background-color: transparent; width: 0%;"></div>
            <div id="arrows_down_down_right" class="arrows"></div>
            <div class="arrow_horizontal dropzone" style="width: 0%;"></div>
          </div>
          <div id="arrow_horizontal" class="arrows"></div>
          <div class="arrowPiece right">
            <div class="arrow_horizontal dropzone" style="width: 17.5px;"></div>
            <div id="s_terminator"></div>
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
          </div>

          <div></div>
          <div></div>
          <div id="s_terminator" style="font-size: 8pt; text-align: center; vertical-align: middle; line-height: 35px;">
            Done</div>
          <div></div>
          <div></div>
        </div>
      </li>
      <li>
        <div class="while_div">
          <div style="vertical-align: middle; width: 70px; height: 35px; margin: auto;"></div>
          <div style="vertical-align: middle; width: 70px; height: 35px; margin: auto;"></div>
          <div id="s_while_loop" class="symbol while_sym" (click)="addSymbol('s_while_loop',$event)">While</div>
          <div id="arrow_horizontal" class="arrows"></div>
          <div class="arrowPiece right">
            <div class="arrow_right dropzone" style="width: 17.5px;"></div>
            <div id="s_terminator"
              style="font-size: 8pt; text-align: center; vertical-align: middle; line-height: 35px;">
              True</div>
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
          </div>

          <div class="whileFalseBlock"></div>
          <div></div>
          <div id="arrows_line_up" class="arrows" style="height: 100%;"></div>
          <div></div>
          <div id="whileTrueBlock" class="whileTrueBlock">
            <div id="arrow" class="arrow dropzone" dragula="symbol" (dragulaModel)="symbols"></div>
          </div>

          <div></div>
          <div></div>
          <div class="arrowPiece bottom_center" style="grid-template-columns: 0px 70px 0px;">
            <div class="blank_arrow_left dropzone" style="background-color: transparent; width: 0%;"></div>
            <div id="arrows_down_down_right" class="arrows"></div>
            <div class="arrow_horizontal dropzone" style="width: 0%;"></div>
          </div>
          <div id="arrow_horizontal" class="arrows"></div>
          <div class="arrowPiece right">
            <div class="arrow_horizontal dropzone" style="width: 17.5px;"></div>
            <div id="s_terminator"></div>
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
          </div>

          <div></div>
          <div></div>
          <div id="s_terminator" style="font-size: 8pt; text-align: center; vertical-align: middle; line-height: 35px;">
            False</div>
          <div></div>
          <div></div>
        </div>
      </li>
      <li>
        <div class="do_while_div">
          <div style="vertical-align: middle; width: 70px; height: 35px; margin: auto;"></div>
          <div style="vertical-align: middle; width: 70px; height: 35px; margin: auto;"></div>
          <div class="arrowPiece bottom_center">
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
            <div id="s_terminator"
              style="font-size: 8pt; text-align: center; vertical-align: middle; line-height: 35px;">
              True</div>
            <div class="arrow_horizontal dropzone" style="width: 17.5px;"></div>
          </div>
          <div id="arrow_horizontal" class="arrow_horizontal arrows"></div>
          <div class="arrowPiece right">
            <div id="arrow_right" class="arrow_right dropzone"></div>
            <div id="s_terminator"></div>
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
          </div>

          <div class="doWhileFalseBlock"></div>
          <div></div>
          <div id="arrow_up" class="arrows" style="height: 100%;"></div>
          <div></div>
          <div id="doWhileTrueBlock" class="doWhileTrueBlock">
            <div id="arrow" class="arrow dropzone" dragula="symbol" (dragulaModel)="symbols"></div>
          </div>

          <div></div>
          <div></div>
          <div id="s_do_while_loop" class="symbol do_while_sym" (click)="addSymbol('s_do_while_loop',$event)">Do</div>
          <div id="arrow_left" class="arrows"></div>
          <div class="arrowPiece right">
            <div class="arrow_horizontal dropzone" style="width: 17.5px;"></div>
            <div id="s_terminator"></div>
            <div class="dropzone" style="background-color: transparent; width: 17.5px;"></div>
          </div>

          <div></div>
          <div></div>
          <div id="arrow" class="arrow"></div>
          <div></div>
          <div></div>

          <div></div>
          <div></div>
          <div id="s_terminator" style="font-size: 8pt; text-align: center; vertical-align: middle; line-height: 35px;">
            False</div>
          <div></div>
          <div></div>
        </div>
      </li>
    </ul>
  </div>

</ion-content>